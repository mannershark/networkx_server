#!/bin/sh
VERSION="v0.1"
PYTHON_PATH="/nx_server"

echo "-------------------------------------------------------------------------------"
printf "
  _______ _          _____                 _       _____
 |__   __| |        |  __ \               | |     / ____|
    | |  | |__   ___| |__) |__  ___  _ __ | | ___| |  __ _ __ ___  _   _ _ __
    | |  | '_ \ / _ \  ___/ _ \/ _ \| '_ \| |/ _ \ | |_ | '__/ _ \| | | | '_ \\
    | |  | | | |  __/ |  |  __/ (_) | |_) | |  __/ |__| | | | (_) | |_| | |_) |
    |_|  |_| |_|\___|_|   \___|\___/| .__/|_|\___|\_____|_|  \___/ \__,_| .__/
                                    | |                                 | |
          Software & Trainingen     |_|        NetworkX Server ${VERSION}     |_|
";
echo "-------------------------------------------------------------------------------"
if cd ${PYTHON_PATH}; then
    export FLASK_APP=networkx_server.py &&
    exec gunicorn networkx_server:app
else
    echo "-------------------------------------------------------------------------------"
    echo "Unable to find the fibersteiner directory. Exiting..."
    echo "-------------------------------------------------------------------------------"
    exit 1
fi
